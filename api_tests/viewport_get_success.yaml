# ********RoostGPT********

# Test generated by RoostGPT for test Loginapp-api-test using AI Type Azure Open AI and AI Model roostgpt-4-32k
# 
# Test generated for /viewport_get for http method type GET in artillery framework
# RoostTestHash=851b3012b5
# 
# 

# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  payload:
    path: "viewport_get_success.csv"
    fields:
      - name
    skipHeader: true
    delimiter: "^|^"

scenarios:
  - name: "Successfull flow test"
    flow:
      - log: "Starting flow for successful responses"
      - get:
          url: "/viewport"
          headers: 
            AUTH_TOKEN: "{{$processEnvironment.AUTH_TOKEN}}"
          capture:
            - json: "$.name"
              as: "viewport_name"
          expect:
            - statusCode: 200
            - hasProperty: 'name'
            - equals: 
                - "{{ viewport_name }}"
                - "sample_viewport_value"
      - think: 1
      - log: "Page responsiveness checked. Saving response.."
      - post:
            url: "/viewport"
            headers:
              AUTH_TOKEN: "{{$processEnvironment.AUTH_TOKEN}}"
            json:
              name: "{{ viewport_name }}"
            expect:
              - statusCode: 200
              - hasProperty: 'name'
      - think: 1
      - log: "Test run completed with expected status codes and valid payload"
